## k8s Architecture

**1. 스케줄러 (Scheduler)**

> **스케줄러**는 Pod의 실행 위치를 결정합니다.

- 클러스터 내에서 어떤 Pod가 어떤 노드에서 실행될지를 결정하는 역할을 합니다.

- 스케줄러는 리소스 사용량, 노드의 상태, 그리고 배치 제약 조건 등을 고려하여 최적의 노드를 선택합니다.

  

**2. 컨트롤러 매니저 (Controller Manager)**

> **컨트롤러 매니저**는 클러스터의 상태를 유지하기 위한 다양한 작업을 자동으로 처리합니다.

- 컨트롤러 매니저는 Kubernetes의 다양한 컨트롤러들을 실행하는 역할을 합니다. 
- 복제 컨트롤러 외에도 노드 컨트롤러(노드 상태 감시), 엔드포인트 컨트롤러(Service와 Pod 연결 관리) 등의 다양한 컨트롤러가 포함됩니다.

**3. etcd**

> **etcd**는 Kubernetes 클러스터의 모든 데이터를 저장하고 관리하는 핵심 데이터 저장소입니다.

- etcd는 클러스터의 상태 정보를 안전하고 안정적으로 저장합니다. 
- 예를 들어, 클러스터 내의 구성 정보, Pod 및 Service 상태, 설정 정보 등을 저장합니다. 분산 환경에서 데이터의 일관성과 복구를 보장합니다.

**4. kubelet (큐블릿)**

> 노드에서 실행되는 주요 에이전트입니다.

- kubelet은 클러스터 내에서 해당 노드에 할당된 Pod를 감시하고, 이 Pod들이 올바르게 실행되도록 관리합니다.
- Pod가 제대로 실행되지 않으면 이를 복구하려고 시도하거나 상태를 보고합니다.
- Pod의 상태를 지속적으로 확인하고, Kubernetes API 서버와 통신하여 상태를 동기화합니다.

**2. kube-proxy (큐브-프록시)**

> 네트워크 규칙을 유지하고 Pod 간 및 클러스터 내부/외부 간의 네트워크 통신을 가능하게 합니다.

- 노드에 실행되는 네트워크 프록시 역할을 하며, Kubernetes 서비스의 네트워킹을 지원합니다.
- iptables 또는 IPVS를 사용하여 네트워크 트래픽을 적절히 라우팅합니다.
- 클러스터 외부에서 들어오는 요청을 Pod에 전달하거나, 클러스터 내부의 Pod 간 통신을 가능하게 합니다.
- kube-proxy는 클러스터 네트워킹의 안정성과 성능을 유지하는 데 중요한 역할을 합니다.



