---
layout: single
title:  '[ν–‰λ™#1]Strategy'
toc: true
categories: Python
tags: [Adapter pattern, Python]

---



## π‘€ λ©μ 

> λ°νƒ€μ„ μ¤‘μ— μ „λµμ„ μ μ—°ν•κ² λ°”κΏ€ μ μκ² ν•¨

- `μ „λµ`μ€ μΌμΆ…μ μ•κ³ λ¦¬μ¦μ΄λ‚ κΈ°λ¥ λ” μ‰½κ²λ” λ™μ‘μ„ λ‚νƒ€λƒ„
- μ¦‰, μ–΄λ–¤ μΌμ„ μν–‰ν•  μ μλ” λ™μ‘λ“¤μ„ `μ „λµ`μΌλ΅ μ •μν•΄ λ†“κ³ , μ‚¬μ©μκ°€ λ°νƒ€μ„ ν™κ²½μ—μ„ μ μ—°ν•κ² μ„ νƒν•λ„λ΅ ν•λ” κ²ƒ



## β™οΈ κµ¬μ„±μ”μ†

<p align="center"><img src="https://github.com/sigirace/page-images/blob/main/design_patterns/strategy.png?raw=true" width="600" height="250"></p>

- `Context`
  - `strategy`λ¥Ό μ†μ„±μΌλ΅ κ°€μ§€κ³  μμΌλ©°, μ΄λ¥Ό λ™μ μΌλ΅ κµμ²΄ κ°€λ¥ν•λ„λ΅ ν•¨
  - `operation`κ³Ό κ°™μ€ μ‹¤ν–‰λ¶€λ¥Ό κµ¬ν„ν•μ—¬ `strategy`μ κµ¬ν„μ²΄λ¥Ό μ‹¤ν–‰ν•  μ μκ² ν•¨ (DIP)
- `Strategy`
  - λ‹¤μ–‘ν• `ConcreteStrategy`λ¥Ό ν†µν•©ν•  μ μλ” κ³µν†µλ¶€ (λ‹¤ν•μ„±)
- `ConcreteStrategies`
  - `strategy`μ κµ¬ν„
- `Client`
  - `ConcreteStrategy`λ¥Ό μ„ νƒν•κ³  μƒμ„±ν•μ—¬ `Context`μ— μ „λ‹¬ν•¨
  -  `Context`λ” μ „λ‹¬λ°›μ€ `ConcreteStrategy`λ¥Ό μν–‰ν•κΈ°λ§ ν•¨



## π μμ 

```
μ μ €κ°€ κ²°μ  λ°©μ‹(μ „λµ)μ„ λ‹¤μ–‘ν•κ² μ„ νƒν•  μ μλ„λ΅ μ½”λ“λ¥Ό μ„¤κ³„
- μ „λµ1: μΉ΄μΉ΄μ¤ κ²°μ 
- μ „λµ2: μ‚Όμ„±νμ΄ κ²°μ 
```



https://medium.com/codex/implementing-the-strategy-design-pattern-in-spring-boot-df3adb9ceb4a







### π’¬ κ¶κΈμ 

- λ‹¤μ–‘ν•κ² μ „λµμ„ μ„ νƒν•  μ μλ” μμ‹λ΅ ν•λ²μ client νΈμ¶ λ‚΄μ—μ„ μ „λµμ„ μμ •ν•μ€μ
- κ·Έλ°λ° μ‹¤μ  clientμ—μ„ λ‹¤μ–‘ν•κ² μ„ νƒν•λ ¤λ©΄ μ‚¬μ©μμ μ…λ ¥μ„ λ°›μ•„ if/else μ²λ¦¬λ¥Ό ν•λ” κ²ƒ μ™Έμ— λ” μΆ‹μ€ λ°©λ²•μ΄ μ—†μ„κΉ







**μ „λµ ν¨ν„΄(Strategy Pattern)**κ³Ό **ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄(Factory Method Pattern)**μ€ λ¨λ‘ κ°μ²΄μ§€ν–¥ μ„¤κ³„μ—μ„ μ‚¬μ©λλ” λ””μμΈ ν¨ν„΄μ΄μ§€λ§, κ°κ°μ λ©μ κ³Ό λ™μ‘ λ°©μ‹μ΄ λ‹¤λ¦…λ‹λ‹¤. μ•„λμ—μ„ μ°¨μ΄μ μ„ μμ„Έν μ„¤λ…ν•κ² μµλ‹λ‹¤.



**1. λ©μ **



**μ „λµ ν¨ν„΄**



β€‹	β€Ά	**ν–‰λ™(μ•κ³ λ¦¬μ¦)μ μΊ΅μν™”**μ™€ **κµμ²΄ κ°€λ¥μ„±**μ— μ¤‘μ μ„ λ‘ .

β€‹	β€Ά	κ°μ²΄μ ν–‰μ„λ¥Ό μ •μν•λ” μ•κ³ λ¦¬μ¦μ„ **λ°νƒ€μ„μ— λ™μ μΌλ΅ λ³€κ²½ν•κ±°λ‚ μ„ νƒ**ν•  μ μκ² μ„¤κ³„.



**ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄**



β€‹	β€Ά	**κ°μ²΄ μƒμ„± λ΅μ§μ μΊ΅μν™”**μ— μ¤‘μ μ„ λ‘ .

β€‹	β€Ά	μ–΄λ–¤ ν΄λμ¤μ κ°μ²΄λ¥Ό μƒμ„±ν• μ§€μ— λ€ν• κ²°μ •μ„ μ„λΈν΄λμ¤μ—μ„ μ •μ.

β€‹	β€Ά	κ°μ²΄ μƒμ„±μ μ±…μ„μ„ μ„λΈν΄λμ¤μ— μ„μ„ν•¨μΌλ΅μ¨ **κ°μ²΄ μƒμ„±κ³Ό μ‚¬μ©μ κ²°ν•©λ„λ¥Ό μ¤„μ„**.



**2. κµ¬μ΅°**



**μ „λµ ν¨ν„΄**



β€‹	β€Ά	**Context**: μ „λµμ„ μ‚¬μ©ν•λ” ν΄λμ¤.

β€‹	β€Ά	**Strategy μΈν„°νμ΄μ¤**: κ³µν†µ μ•κ³ λ¦¬μ¦μ μΈν„°νμ΄μ¤ μ •μ.

β€‹	β€Ά	**Concrete Strategies**: λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦(μ „λµ)μ„ κµ¬ν„ν•λ” ν΄λμ¤.



**κµ¬μ΅° μμ‹**:



Context

 β””β”€β”€ Strategy

β€‹    β”β”€β”€ ConcreteStrategyA

β€‹    β””β”€β”€ ConcreteStrategyB



**ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄**



β€‹	β€Ά	**Creator(Factory)**: κ°μ²΄λ¥Ό μƒμ„±ν•λ” λ©”μ„λ“λ¥Ό μ •μν•λ” μ¶”μƒ ν΄λμ¤.

β€‹	β€Ά	**Concrete Creator**: κ°μ²΄λ¥Ό μƒμ„±ν•λ” λ΅μ§μ„ κµ¬ν„ν•λ” μ„λΈν΄λμ¤.

β€‹	β€Ά	**Product**: μƒμ„±λλ” κ°μ²΄μ μΈν„°νμ΄μ¤ λλ” μ¶”μƒ ν΄λμ¤.

β€‹	β€Ά	**Concrete Product**: μƒμ„±λλ” κµ¬μ²΄μ μΈ κ°μ²΄.



**κµ¬μ΅° μμ‹**:



Creator

 β””β”€β”€ ConcreteCreator

β€‹    β””β”€β”€ ConcreteProduct



**3. κµ¬ν„ μμ‹**



**μ „λµ ν¨ν„΄**



**λ©μ **: μ•κ³ λ¦¬μ¦μ μ„ νƒκ³Ό κµμ²΄κ°€ ν•„μ”ν•  λ• μ‚¬μ©.



*# Strategy μΈν„°νμ΄μ¤*

class PaymentStrategy:

  def pay(self, amount):

β€‹    pass



*# Concrete Strategies*

class CreditCardPayment(PaymentStrategy):

  def pay(self, amount):

β€‹    print(f"Paying ${amount} using Credit Card")



class PayPalPayment(PaymentStrategy):

  def pay(self, amount):

β€‹    print(f"Paying ${amount} using PayPal")



*# Context*

class ShoppingCart:

  def __init__(self, payment_strategy: PaymentStrategy):

β€‹    self.payment_strategy = payment_strategy



  def checkout(self, amount):

β€‹    self.payment_strategy.pay(amount)



*# μ‚¬μ©*

cart = ShoppingCart(CreditCardPayment())

cart.checkout(100) *# Paying $100 using Credit Card*



cart = ShoppingCart(PayPalPayment())

cart.checkout(200) *# Paying $200 using PayPal*



**ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄**



**λ©μ **: κ°μ²΄ μƒμ„± λ΅μ§μ„ μΊ΅μν™”ν•μ—¬ μƒμ„±κ³Ό μ‚¬μ©μ„ λ¶„λ¦¬.



*# Product μΈν„°νμ΄μ¤*

class Document:

  def open(self):

β€‹    pass



*# Concrete Products*

class WordDocument(Document):

  def open(self):

β€‹    print("Opening a Word Document")



class PdfDocument(Document):

  def open(self):

β€‹    print("Opening a PDF Document")



*# Creator*

class DocumentCreator:

  def create_document(self):

β€‹    pass



*# Concrete Creators*

class WordDocumentCreator(DocumentCreator):

  def create_document(self):

β€‹    return WordDocument()



class PdfDocumentCreator(DocumentCreator):

  def create_document(self):

β€‹    return PdfDocument()



*# μ‚¬μ©*

creator = WordDocumentCreator()

document = creator.create_document()

document.open() *# Opening a Word Document*



creator = PdfDocumentCreator()

document = creator.create_document()

document.open() *# Opening a PDF Document*



**4. μ‚¬μ© μ‹μ **



**ν¨ν„΄**	**μ‚¬μ© μ‹μ **

**μ „λµ ν¨ν„΄**	- μ‹¤ν–‰ μ¤‘μ— κ°μ²΄μ λ™μ‘(μ•κ³ λ¦¬μ¦)μ„ λ³€κ²½ν•΄μ•Ό ν•  λ•.

β€‹	- μ„λ΅ λ‹¤λ¥Έ μ•κ³ λ¦¬μ¦μ„ μ„ νƒμ μΌλ΅ μ‹¤ν–‰ν•΄μ•Ό ν•  λ•.

**ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄**	- κ°μ²΄ μƒμ„± λ΅μ§μ„ μΊ΅μν™”ν•κ³ , κ°μ²΄ μƒμ„±κ³Ό μ‚¬μ©μ„ λ¶„λ¦¬ν•΄μ•Ό ν•  λ•.

β€‹	- μƒμ„±ν•  κ°μ²΄μ μΆ…λ¥λ¥Ό μ„λΈν΄λμ¤μ—μ„ κ²°μ •ν•λ„λ΅ μ„μ„ν•΄μ•Ό ν•  λ•.



**5. μ£Όμ” μ°¨μ΄μ **



**νΉμ§•**	**μ „λµ ν¨ν„΄**	**ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄**

**λ©μ **	μ•κ³ λ¦¬μ¦(ν–‰μ„)μ„ μΊ΅μν™”ν•κ³  λ™μ μΌλ΅ κµμ²΄ κ°€λ¥ν•κ² ν•¨.	κ°μ²΄ μƒμ„± λ΅μ§μ„ μΊ΅μν™”ν•κ³ , κ°μ²΄ μƒμ„±κ³Ό μ‚¬μ©μ„ λ¶„λ¦¬.

**κµ¬μ΅°μ  μ΄μ **	λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ„ μΊ΅μν™”ν•λ” λ° μ΄μ .	κ°μ²΄ μƒμ„± μ±…μ„μ„ μ„λΈν΄λμ¤μ— μ„μ„.

**κ²°ν•©λ„**	ν–‰μ„μ™€ κµ¬ν„ κ°„μ κ²°ν•©λ„λ¥Ό μ¤„μ„.	κ°μ²΄ μƒμ„±κ³Ό μ‚¬μ© κ°„μ κ²°ν•©λ„λ¥Ό μ¤„μ„.

**λ°νƒ€μ„ κµμ²΄**	κ°€λ¥ (Contextμ—μ„ λ™μ  κµμ²΄).	λ°νƒ€μ„ κµμ²΄λ³΄λ‹¤ μƒμ„± μ‹μ μ— κ°μ²΄λ¥Ό κ²°μ •.

**κ²°κ³Όλ¬Ό**	λ™μ‘(μ•κ³ λ¦¬μ¦)μ„ μ‹¤ν–‰ν•λ” λ‹¤μ–‘ν• μ „λµ κ°μ²΄.	μƒμ„±λ κ°μ²΄(Product).



**κ²°λ΅ **



β€‹	β€Ά	**μ „λµ ν¨ν„΄**μ€ **β€μ–΄λ–¤ μΌμ„ μ–΄λ–»κ² μν–‰ν• μ§€(μ•κ³ λ¦¬μ¦ μ„ νƒ)β€**μ— λ€ν• λ¬Έμ λ¥Ό ν•΄κ²°.

β€‹	β€Ά	**ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄**μ€ **β€μ–΄λ–¤ κ°μ²΄λ¥Ό μƒμ„±ν• μ§€β€**μ— λ€ν• λ¬Έμ λ¥Ό ν•΄κ²°.



λ‘ ν¨ν„΄μ€ λ©μ μ΄ λ‹¤λ¥΄μ§€λ§, ν•¨κ» μ‚¬μ©ν•μ—¬ κ°μ²΄ μƒμ„± λ° λ™μ‘ κµμ²΄λ¥Ό λ™μ‹μ— μ μ—°ν•κ² μ²λ¦¬ν•  μλ„ μμµλ‹λ‹¤.
