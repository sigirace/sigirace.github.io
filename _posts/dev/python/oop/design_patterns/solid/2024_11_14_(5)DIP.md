---
layout: single
title:  'Dependency Inversion Principle (DIP)'
toc: true
categories: Python
tags: [Design pattern, Python]


---

## Dependency Inversion Principle (DIP)

> ê°ì²´ì—ì„œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•  ë•Œ, ê°€ëŠ¥í•˜ë‹¤ë©´ ê·¸ ëŒ€ìƒì˜ ìƒìœ„ ìš”ì†Œë¡œ ì°¸ì¡°

- ì‚¬ìš©ìê°€ ìƒì† ê´€ê³„ë¡œ ì´ë£¨ì–´ì§„ ëª¨ë“ˆì„ ê°€ì ¸ë‹¤ ì‚¬ìš©í• ë•Œ, í•˜ìœ„ ëª¨ë“ˆì— ì§ì ‘ì ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ë‹¤ ì“°ì§€ ë§ë¼ëŠ” ì˜ë¯¸



ğŸ“Œ **í´ë˜ìŠ¤ê°„ ì˜ì¡´ê´€ê³„**

> í•œ í´ë˜ìŠ¤ê°€ ì–´ë–¤ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ë ¤ê³  í•  ë•Œ, ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ì„œë¹„ìŠ¤ê°€ í•„ìš”í•œ ê²½ìš°



â›”ï¸ **DIP ìœ„ë°˜**

```python
class Sword:
    """
    ê²€ ë¬´ê¸° í´ë˜ìŠ¤
    """

    def strike(self):
        print("ê²€ìœ¼ë¡œ ë² ê¸°!")


class BattleService:
    """
    ì „íˆ¬ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤
    """

    def __init__(self, weapon: Sword):
        self.weapon = weapon

    def attack(self):
        self.weapon.strike()


# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    sword = Sword()
    battle_service = BattleService(sword)
    battle_service.attack()  # ì¶œë ¥: ê²€ìœ¼ë¡œ ë² ê¸°!
```

- `BattleService`ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— `Sword`ê°€ í¬í•¨ë¨
- `attack` í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ì„œë¹„ìŠ¤ê°€ í•„ìš”í•¨

```Python
class Sword:
    """
    ê²€ ë¬´ê¸° í´ë˜ìŠ¤
    """
    def strike(self):
        print("ê²€ìœ¼ë¡œ ë² ê¸°!")


class Bow:
    """
    í™œ ë¬´ê¸° í´ë˜ìŠ¤
    """
    def shoot(self):
        print("í™œë¡œ ê³µê²©!")


class BattleService:
    """
    ì „íˆ¬ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤
    """
    def __init__(self, sword: Sword, bow: Bow):
        self.sword = sword
        self.bow = bow

    def attack(self, weapon_name: str):
        if weapon_name == "Sword":
            self.sword.strike()
        elif weapon_name == "Bow":
            self.bow.shoot()
        else:
            print("ì•Œ ìˆ˜ ì—†ëŠ” ë¬´ê¸°ì…ë‹ˆë‹¤!")


# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    sword = Sword()
    bow = Bow()
    battle_service = BattleService(sword, bow)

    battle_service.attack("Sword")  # ì¶œë ¥: ê²€ìœ¼ë¡œ ë² ê¸°!
    battle_service.attack("Bow")    # ì¶œë ¥: í™œë¡œ ê³µê²©!
    battle_service.attack("Axe")    # ì¶œë ¥: ì•Œ ìˆ˜ ì—†ëŠ” ë¬´ê¸°ì…ë‹ˆë‹¤!
```

- ìƒˆë¡œìš´ class ë“¤ì´ ìƒê²¨ë‚  ë•Œë§ˆë‹¤ ì½”ë“œë¥¼ ë°”ê¿”ì£¼ì–´ì•¼ í•¨



ğŸŒˆ **ê°œì„ ì‚¬í•­**

```python
from abc import ABC, abstractmethod

class Weapon(ABC):
    """
    ì €ìˆ˜ì¤€ ëª¨ë“ˆ(ë¬´ê¸°ë“¤)ì´ ìƒì†ë°›ì„ Weapon ì¸í„°í˜ì´ìŠ¤
    """
    @abstractmethod
    def attack(self):
        pass


class Sword(Weapon):
    """
    ê²€ ë¬´ê¸° í´ë˜ìŠ¤
    """
    def attack(self):
        print("ê²€ìœ¼ë¡œ ë² ê¸°!")


class Bow(Weapon):
    """
    í™œ ë¬´ê¸° í´ë˜ìŠ¤
    """
    def attack(self):
        print("í™œë¡œ ì¡°ì¤€ í›„ ê³µê²©!")


class BattleService:
    """
    ê³ ìˆ˜ì¤€ ëª¨ë“ˆ - ì „íˆ¬ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤
    """
    def __init__(self, weapon: Weapon):
        self.weapon = weapon

    def attack(self):
        self.weapon.attack()


# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    sword = Sword()
    bow = Bow()

    # ì „íˆ¬ ì„œë¹„ìŠ¤ì— ë¬´ê¸° ì£¼ì…
    battle_service = BattleService(sword)
    battle_service.attack()  # ì¶œë ¥: ê²€ìœ¼ë¡œ ë² ê¸°!

    battle_service = BattleService(bow)
    battle_service.attack()  # ì¶œë ¥: í™œë¡œ ì¡°ì¤€ í›„ ê³µê²©!
```

- ì €ìˆ˜ì¤€ classë¥¼ client classì— ì‚¬ìš©í•¨ìœ¼ë¡œ í•˜ìœ„ ëª¨ë“ˆì— ëŒ€í•œ ì˜ì¡´ì„±ì´ ì•½í•´ì§
- ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆê³  í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê²Œ ë¨
