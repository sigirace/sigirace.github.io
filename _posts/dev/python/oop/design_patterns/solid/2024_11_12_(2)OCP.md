---
layout: single
title:  'Open Closed Principle (OCP)'
toc: true
categories: Python
tags: [Design pattern, Python]



---



## Open Closed Principle (OCP)

> ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„

- ë³€ê²½ì— ëŒ€í•´ì„œëŠ” íì‡„ì  -> ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•ŠìŒ
  - ìƒˆë¡œìš´ ë³€ê²½ì‚¬í•­ì´ ë°œìƒí–ˆì„ ë•Œ ê°ì²´ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ìˆ˜ì •
- í™•ì¥ì— ëŒ€í•´ì„œëŠ” ê°œë°©ì  -> ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
  - ìƒˆë¡œìš´ ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí–ˆì„ ë•Œ ìœ ì—°í•˜ê²Œ ì½”ë“œë¥¼ ì¶”ê°€
- ì¶”ìƒ í´ë˜ìŠ¤
  - í´ë˜ìŠ¤ì˜ ì¶”ê°€ê°€ ìˆì„ ë•Œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•  í•„ìš” ì—†ìŒ
  - ì ì ˆí•˜ê²Œ ìƒì† ê´€ê³„ì— ë§ì¶° ì¶”ê°€ë§Œ í•œë‹¤ë©´ ìœ ì—°í•œ í™•ì¥ ê°€ëŠ¥



â›”ï¸ **ì˜ˆì‹œ1: ê°œë°©-íì‡„ ì›ì¹™ì„ ë”°ë¥´ì§€ ì•ŠìŒ**

```python
class DiscountCalculator:
    def calculate_discount(self, customer_type, amount):
        if customer_type == "regular":
            return amount * 0.05
        elif customer_type == "vip":
            return amount * 0.10
        else:
            raise ValueError("Unknown customer type")

# ì‚¬ìš© ì˜ˆì‹œ
calculator = DiscountCalculator()
print(calculator.calculate_discount("vip", 100))  # 10% í• ì¸
```

- ìƒˆë¡œìš´ ê³ ê° ìœ í˜•(ê¸°ëŠ¥)ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ calculate_discount ë©”ì„œë“œì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•¨
- ê¸°ì¡´ ì½”ë“œì˜ ë³€ê²½ì˜ˆ ì—´ë ¤ìˆìŒ



ğŸŒˆ **ì˜ˆì‹œ2: ê°œë°©-íì‡„ ì›ì¹™ì„ ë”°ë¦„**

```python
from abc import ABC, abstractmethod

# í• ì¸ ê³„ì‚°ì„ ìœ„í•œ ì¶”ìƒ í´ë˜ìŠ¤ ì •ì˜
class DiscountStrategy(ABC):
    @abstractmethod
    def calculate(self, amount):
        pass

# ê° ê³ ê° ìœ í˜•ë³„ í• ì¸ ì „ëµ êµ¬í˜„
class RegularCustomerDiscount(DiscountStrategy):
    def calculate(self, amount):
        return amount * 0.05

class VIPCustomerDiscount(DiscountStrategy):
    def calculate(self, amount):
        return amount * 0.10

# ìƒˆë¡œìš´ ê³ ê° ìœ í˜•ì„ ì¶”ê°€í•  ë•Œ OCPë¥¼ ì§€í‚¤ë©° í™•ì¥ ê°€ëŠ¥
class PremiumCustomerDiscount(DiscountStrategy):
    def calculate(self, amount):
        return amount * 0.15

# DiscountCalculatorëŠ” DiscountStrategyì— ì˜ì¡´
class DiscountCalculator:
    def __init__(self, strategy: DiscountStrategy):
        self.strategy = strategy

    def calculate_discount(self, amount):
        return self.strategy.calculate(amount)

# ì‚¬ìš© ì˜ˆì‹œ
calculator = DiscountCalculator(VIPCustomerDiscount())
print(calculator.calculate_discount(100))  # 10% í• ì¸

calculator = DiscountCalculator(PremiumCustomerDiscount())
print(calculator.calculate_discount(100))  # 15% í• ì¸
```

- ìƒˆë¡œìš´ ìœ í˜•(ê¸°ëŠ¥)ì´ ì¶”ê°€ë˜ë”ë¼ë„ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•  í•„ìš” ì—†ìŒ
  - ë³€ê²½ì— ë‹«í˜€ìˆìŒ
- ê° ì •ì±…ì´ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆì–´ í´ë˜ìŠ¤ê°€ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì§€í‚¤ê³  ìˆìŒ

