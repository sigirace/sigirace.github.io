## 3.1 Slow URLChecker

### 1. map

```go
var result map[string]string
result["hello"] = "gello"
```

```
panic: assignment to entry in nil map

goroutine 1 [running]:
main.main()
        /Users/sigi/go/src/github.com/sigirace/learngo/main.go:27 +0x118
exit status 2
```

- ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ Mapì— ë°ì´í„°ë¥¼ ì‚½ì…ì‹œ panic ë°œìƒ

```go
var result = make(map[string]string)
//or
results := make(map[string]string)
```

- ìœ„ì™€ê°™ì´ ì´ˆê¸°í™”



## 3.2 Goroutines

### 1. Concept

- ë‹¤ë¥¸ í•¨ìˆ˜ì™€ ë™ì‹œì— ì‹¤í–‰ì‹œí‚¤ëŠ” í•¨ìˆ˜
- í”„ë¡œê·¸ë¨ì€ ë©”ì¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ë ë•Œ ìœ íš¨í•˜ê³  ë©”ì¸ í•¨ìˆ˜ëŠ” ê³ ë£¨í‹´ì„ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ
  - go ë£¨í‹´ìœ¼ë¡œë§Œ êµ¬ì„±ëœ mainì€ ì•„ë¬´ ê²°ê³¼ ì—†ì´ ì¢…ë£Œë¨
  - ë”°ë¼ì„œ go ë£¨í‹´ ì´í›„ ë³‘í•© ë“± ì‘ì—…ì´ í•„ìš”í•¨



### 2. Concurrency

- goRoutineìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” í•¨ìˆ˜ëŠ” ë™ì‹œì„±ìœ¼ë¡œ ì¸í•´ ë¬´ì—‡ì´ ë¨¼ì € ì‹œí–‰ë˜ê³  ëë‚ ì§€ ì•Œ ìˆ˜ ì—†ìŒ



## 3.3 Channel

### 1. Concept

- goroutineê³¼ main ì‚¬ì´ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë°©ë²•
  - ì–‘ë°©í–¥: goroutine <-> main

ğŸŒˆ **ì˜ˆì‹œ**

```go
func main(){
	c := make(chan type)
  go goRoutineFunc(param, c)
  result := <- c
  fmt.Printlm(result)
}
  
  
func goRoutineFunc(param type, c chan type){
  c <- return
}
```



### 2. DeadLock

- goroutineì´ ì—†ì„ë•Œ channelë¡œë¶€í„° ë¬´ì–¸ê°ˆ ë°›ì•„ì˜¤ë ¤ê³ í•˜ë©´ deadlock ë°œìƒ



### 3. Block Operation

- í”„ë¡œê·¸ë¨ì´ë‚˜ ë©”ì¸í•¨ìˆ˜ê°€ goroutineì˜ ê²°ê³¼ë¥¼ ë°›ì„ë•Œ ê¹Œì§€ ë©ˆì¶”ëŠ” ê²ƒ

ğŸŒˆ **ì˜ˆì‹œ**

```go
func main(){
	c := make(chan string)
  people := [5]string{"nico", "flynn", "dal", "sigi"}
  
  // goroutine ìƒì„±
  for _, person := range people{
    go isSexy(person c)
  }
  
  for i:= 0; i < len(people); i++{
    fmt.Println("wating for", i)
    fmt.Println(<-c)
  }
  
}
  
  
func isSexy(param string, c chan string){
  time.Sleep(time.Second * 10)
  c <- person + "is sexy"
}
```

```
wating for 0 <- 10 second
```



### 4. Direction

- ì±„ë„ì˜ ë°©í–¥ì„ ì •í•¨ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ ëª…í™•í•˜ê²Œ í•  ìˆ˜ ìˆìŒ

ğŸŒˆ **ì˜ˆì‹œ**

```go
func hitURL(url string, c chan<- result){
  fmt.Println(<-c) //error
}
```

```
invalid operation: cannot receive from send-only channel c (variable of type chan<- result)
```

- channel `c`ëŠ” `send-only`
- goroutineì•ˆì—ì„œ ë¬´ì–¸ê°€ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ



