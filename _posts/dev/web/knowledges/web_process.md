각 서버의 역할과 위치를 설명하기 위해, 웹 애플리케이션 배포에서 도메인 서버, 웹 서버(Nginx), 애플리케이션 서버(Gunicorn), 그리고 백엔드 프레임워크(Django) 등이 어떻게 배치되고 상호작용하는지 정리해 보겠습니다.

### 전체 구성 및 각 서버의 역할
1. **도메인 서버 (DNS)**  
   - **위치**: 인터넷에 분산되어 있는 DNS 서버
   - **역할**: 사용자가 입력한 도메인(예: `http://example.com`)을 해당 서버의 IP 주소(예: `192.168.1.100`)로 변환해 줍니다. 이 변환 과정을 통해 사용자가 웹 브라우저에서 도메인을 입력하면, DNS 서버가 해당 도메인의 IP 주소를 반환하여 요청이 웹 서버로 전달될 수 있게 합니다.
   - **예시**: DNS 서버는 `example.com`을 `192.168.1.100`의 IP로 변환하고, 이를 웹 브라우저가 접근할 수 있도록 안내합니다.

2. **웹 서버 (Nginx)**  
   - **위치**: 클라우드나 호스팅 서버, 또는 직접 설정한 물리적 서버에 배포됨 (예: `192.168.1.100`)
   - **역할**: 사용자의 요청을 수신하고, 정적 파일을 제공하거나 요청을 애플리케이션 서버(Gunicorn)로 프록시하는 역할을 합니다. Nginx는 주로 정적 파일(HTML, CSS, JavaScript)을 제공하고, `/api/` 경로나 특정 경로로 들어온 요청은 애플리케이션 서버로 전달하여 처리하도록 설정할 수 있습니다.
   - **예시**: `http://example.com`으로 요청이 들어오면, Nginx는 프론트엔드 정적 파일을 제공하거나, API 요청일 경우 Gunicorn으로 프록시합니다.

3. **애플리케이션 서버 (Gunicorn)**  
   - **위치**: Nginx와 동일한 서버(`192.168.1.100`)에 배포되며, 로컬 네트워크에서 Nginx와 통신 (예: `127.0.0.1:8000`)
   - **역할**: Gunicorn은 Python 기반의 WSGI 애플리케이션 서버로서, Django 애플리케이션을 실행하고 요청을 처리하는 역할을 합니다. Nginx에서 프록시된 요청이 Gunicorn에 도달하면, Gunicorn은 Django 애플리케이션을 통해 요청을 처리하고 응답을 생성합니다.
   - **예시**: Nginx가 Gunicorn에 `/api/data` 요청을 전달하면, Gunicorn은 이를 Django 애플리케이션으로 전달하여 필요한 데이터를 반환받고, 이를 다시 Nginx에 전달합니다.

4. **백엔드 프레임워크 (Django)**  
   - **위치**: Gunicorn을 통해 구동되며, 같은 서버(`192.168.1.100`)에서 동작
   - **역할**: Django는 웹 애플리케이션의 비즈니스 로직을 처리하는 프레임워크입니다. 데이터베이스와 통신하여 데이터를 읽고 쓰며, 비즈니스 로직을 수행하여 사용자에게 필요한 정보를 반환하는 역할을 합니다. Django는 요청을 받고 처리하여 Gunicorn을 통해 응답을 반환합니다.
   - **예시**: Django는 데이터베이스에서 사용자 데이터를 조회하고, 이 데이터를 API 응답 형식으로 만들어 Gunicorn을 통해 Nginx에 반환합니다.

### 통신 흐름 및 각 서버의 위치 관계
1. **사용자 브라우저**에서 `http://example.com`으로 요청을 보냄.
2. **DNS 서버**가 도메인 이름 `example.com`을 서버 IP `192.168.1.100`으로 변환.
3. 브라우저는 **웹 서버(Nginx, `192.168.1.100:80`)**에 접근하여 요청을 전달.
4. Nginx는 요청이 정적 파일을 요청하는 경우 정적 파일을 제공하고, API 요청(`/api/` 등)의 경우 **Gunicorn(127.0.0.1:8000)**으로 프록시.
5. **Gunicorn**은 **Django** 애플리케이션으로 요청을 전달하고, Django는 요청을 처리한 후 응답을 반환.
6. Gunicorn에서 처리한 응답은 다시 Nginx로 전달되고, Nginx는 최종적으로 응답을 브라우저에 반환하여 사용자에게 표시.

### 전체 구성도 예시
```plaintext
사용자 브라우저 → DNS 서버 (도메인→IP 변환)
              ↓
       웹 서버 (Nginx - 192.168.1.100:80)
              ↓
 애플리케이션 서버 (Gunicorn - 127.0.0.1:8000)
              ↓
       백엔드 프레임워크 (Django)
```

각 서버의 위치와 역할을 통해 요청이 도메인 주소에서 시작되어 최종적으로 브라우저에 응답이 전달되는 전체 통신 흐름을 볼 수 있습니다. CORS와 같은 보안 설정은 주로 Nginx와 Django에서 설정하여, 다양한 출처에서 오는 요청을 제어하고 안전하게 통신할 수 있도록 돕습니다.